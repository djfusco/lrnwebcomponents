{"version":3,"file":"oer-schema.umd.js","sources":["oer-schema.umd.js"],"sourcesContent":["import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\nimport { OERSchema } from \"@lrnwebcomponents/oer-schema/lib/oerschema.js\";\n/**\n * `oer-schema`\n * `A LRN element to wrap an oer schema prefix onto materials.`\n * @demo demo/index.html\n * @element oer-schema\n */\nclass OerSchemaElement extends SchemaBehaviors(LitElement) {\n  /**\n   * LitElement constructable styles enhancement\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: inline-block;\n        }\n      `\n    ];\n  }\n  render() {\n    return html`\n      <span property=\"oer:${this.oerProperty}\">\n        <slot></slot> ${this.text}\n      </span>\n    `;\n  }\n  static get tag() {\n    return \"oer-schema\";\n  }\n  constructor() {\n    super();\n    this.text = \"\";\n    this.oerProperty = \"name\";\n    this.typeof = \"Resource\";\n  }\n  updated(changedProperties) {\n    if (super.updated) {\n      super.updated(changedProperties);\n    }\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName == \"relatedResource\") {\n        this._OERLink = this._generateforComponentLink(this.relatedResource);\n      }\n    });\n  }\n  static get properties() {\n    return {\n      ...super.properties,\n      /**\n       * Text to wire into the middle of the element.\n       * This is easier to manage then slotted data though\n       * this supports both methods.\n       */\n      text: {\n        type: String\n      },\n      /**\n       * Property value for this oer resource\n       */\n      oerProperty: {\n        type: String,\n        attribute: \"oer-property\"\n      },\n      /**\n       * Property value for this oer resource\n       */\n      typeof: {\n        type: String\n      },\n      /**\n       * Related Resource ID\n       */\n      relatedResource: {\n        type: String,\n        attribute: \"related-resource\"\n      },\n      /**\n       * License link object for semantic meaning\n       */\n      _OERLink: {\n        type: Object\n      }\n    };\n  }\n  static get haxProperties() {\n    import(\"@lrnwebcomponents/hax-iconset/hax-iconset.js\");\n    let oerSchema = new OERSchema();\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"Schema\",\n        description: \"Schematized element area\",\n        icon: \"hax:oerschema\",\n        color: \"blue\",\n        groups: [\"Instructional\"],\n        handles: [\n          {\n            type: \"inline\",\n            text: \"text\"\n          }\n        ],\n        meta: {\n          author: \"ELMS:LN\",\n          inlineOnly: true\n        }\n      },\n      settings: {\n        quick: [\n          {\n            slot: \"\",\n            title: \"Text\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        configure: [\n          {\n            slot: \"\",\n            title: \"Text\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"typeof\",\n            title: \"Schema typeof\",\n            inputMethod: \"select\",\n            allowNull: true,\n            options: oerSchema.types\n          },\n          {\n            property: \"oerProperty\",\n            title: \"Schema property\",\n            description: \"The OER Schema property this represents\",\n            inputMethod: \"select\",\n            allowNull: true,\n            options: {\n              name: \"name\",\n              additionalType: \"additionalType\",\n              description: \"description\",\n              image: \"image\",\n              mainEntityOfPage: \"mainEntityOfPage\",\n              sameAs: \"sameAs\",\n              uri: \"uri\"\n            }\n          },\n          {\n            property: \"relatedResource\",\n            title: \"Related resource\",\n            description: \"A reference to the related Schema resource\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        advanced: []\n      },\n      saveOptions: {\n        unsetAttributes: [\"_oerlink\"]\n      }\n    };\n  }\n  _generateforComponentLink(source) {\n    // remove existing if this is moving around\n    if (this._OERLink) {\n      document.head.removeChild(this._OERLink);\n    }\n    let link = document.createElement(\"link\");\n    link.setAttribute(\"property\", \"oer:forComponent\");\n    link.setAttribute(\"content\", this.relatedResource);\n    document.head.appendChild(link);\n    return link;\n  }\n}\nwindow.customElements.define(OerSchemaElement.tag, OerSchemaElement);\nexport { OerSchemaElement };\n"],"names":["OerSchemaElement","text","oerProperty","SchemaBehaviors","LitElement","html","this","css","changedProperties","forEach","oldValue","propName","_this2","_OERLink","_generateforComponentLink","relatedResource","source","document","head","removeChild","link","createElement","setAttribute","appendChild","type","String","attribute","Object","canScale","canPosition","canEditSource","gizmo","title","description","icon","color","groups","handles","meta","author","inlineOnly","settings","quick","slot","inputMethod","configure","property","allowNull","options","OERSchema","types","name","additionalType","image","mainEntityOfPage","sameAs","uri","advanced","saveOptions","unsetAttributes","window","customElements","define","tag"],"mappings":"mqEASMA,yKAyBGC,KAAO,KACPC,YAAc,gBACL,yPA3BaC,kBAAgBC,0DAcpCC,WACiBC,KAAKJ,YACTI,KAAKL,6CAXlB,CACLM,8CAeK,oDAQDC,2FAEUA,GAEhBA,EAAkBC,QAAQ,SAACC,EAAUC,GACnB,mBAAZA,IACFC,EAAKC,SAAWD,EAAKE,0BAA0BF,EAAKG,sEAyHhCC,GAEpBV,KAAKO,UACPI,SAASC,KAAKC,YAAYb,KAAKO,cAE7BO,EAAOH,SAASI,cAAc,eAClCD,EAAKE,aAAa,WAAY,oBAC9BF,EAAKE,aAAa,UAAWhB,KAAKS,iBAClCE,SAASC,KAAKK,YAAYH,GACnBA,waAtHLnB,KAAM,CACJuB,KAAMC,QAKRvB,YAAa,CACXsB,KAAMC,OACNC,UAAW,uBAKL,CACNF,KAAMC,QAKRV,gBAAiB,CACfS,KAAMC,OACNC,UAAW,oBAKbb,SAAU,CACRW,KAAMG,8DAKH,gDAEA,CACLC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLC,MAAO,SACPC,YAAa,2BACbC,KAAM,gBACNC,MAAO,OACPC,OAAQ,CAAC,iBACTC,QAAS,CACP,CACEb,KAAM,SACNvB,KAAM,SAGVqC,KAAM,CACJC,OAAQ,UACRC,YAAY,IAGhBC,SAAU,CACRC,MAAO,CACL,CACEC,KAAM,GACNX,MAAO,OACPY,YAAa,YACbV,KAAM,iBAGVW,UAAW,CACT,CACEF,KAAM,GACNX,MAAO,OACPY,YAAa,YACbV,KAAM,gBAER,CACEY,SAAU,SACVd,MAAO,gBACPY,YAAa,SACbG,WAAW,EACXC,SA3CQ,IAAIC,aA2COC,OAErB,CACEJ,SAAU,cACVd,MAAO,kBACPC,YAAa,0CACbW,YAAa,SACbG,WAAW,EACXC,QAAS,CACPG,KAAM,OACNC,eAAgB,iBAChBnB,YAAa,cACboB,MAAO,QACPC,iBAAkB,mBAClBC,OAAQ,SACRC,IAAK,QAGT,CACEV,SAAU,kBACVd,MAAO,mBACPC,YAAa,6CACbW,YAAa,YACbV,KAAM,iBAGVuB,SAAU,IAEZC,YAAa,CACXC,gBAAiB,CAAC,uBAgB1BC,OAAOC,eAAeC,OAAO9D,EAAiB+D,IAAK/D"}