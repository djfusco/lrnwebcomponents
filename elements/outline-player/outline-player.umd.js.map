{"version":3,"file":"outline-player.umd.js","sources":["outline-player.umd.js"],"sourcesContent":["import { html, css } from \"lit-element/lit-element.js\";\nimport { HAXCMSLitElementTheme } from \"@lrnwebcomponents/haxcms-elements/lib/core/HAXCMSLitElementTheme.js\";\nimport { SimpleColorsSuper } from \"@lrnwebcomponents/simple-colors/simple-colors.js\";\nimport { store } from \"@lrnwebcomponents/haxcms-elements/lib/core/haxcms-site-store.js\";\nimport { autorun, toJS } from \"mobx/lib/mobx.module.js\";\n/**\n * @deprecatedApply - required for @apply / invoking @apply css var convention\n */\nimport \"@polymer/polymer/lib/elements/custom-style.js\";\n/**\n * `outline-player`\n * @element outline-player\n * `A basic outline presentation`\n *\n * @demo demo/index.html\n */\nclass OutlinePlayer extends SimpleColorsSuper(HAXCMSLitElementTheme) {\n  /**\n   * LitElement style render\n   */\n  static get styles() {\n    return [\n      ...super.styles,\n      css`\n        :host {\n          display: block;\n          font-family: libre baskerville;\n          position: relative;\n          overflow: hidden;\n          --outline-player-min-height: 100vh;\n          --app-drawer-width: 300px;\n          --outline-player-dark: #222222;\n          --outline-player-light: #f8f8f8;\n          background-color: var(--outline-player-light);\n        }\n\n        :host([closed]) {\n          --app-drawer-width: 0px;\n        }\n\n        :host,\n        :host * ::slotted(*) {\n          line-height: 1.8;\n        }\n        :host ul,\n        :host * ::slotted(ul),\n        :host ol,\n        :host * ::slotted(ol) {\n          padding-left: 20px;\n          margin-left: 20px;\n        }\n        :host ul,\n        :host * ::slotted(ul) {\n          list-style-type: disc;\n        }\n        :host li,\n        :host * ::slotted(li) {\n          margin-bottom: 6px;\n        }\n\n        h1 {\n          font-size: 48px;\n          line-height: 16px;\n        }\n\n        h2 {\n          font-size: 32px;\n        }\n\n        h3 {\n          font-size: 28px;\n        }\n\n        p {\n          line-height: 26px;\n          min-height: 26px;\n        }\n\n        a,\n        a:visited,\n        a:active {\n          color: #000;\n        }\n\n        a:hover {\n          color: #2196f3;\n        }\n\n        ul li {\n          padding-bottom: 24px;\n          line-height: 1.5;\n          color: #424242;\n          max-width: 448px;\n        }\n\n        ul li:last-child {\n          padding-bottom: 16px;\n        }\n\n        app-drawer-layout {\n          min-height: 100vh;\n          min-height: -moz-available; /* WebKit-based browsers will ignore this. */\n          min-height: -webkit-fill-available; /* Mozilla-based browsers will ignore this. */\n          min-height: fill-available;\n          /* if the user has set a specific value then override the defaults */\n          min-height: var(--outline-player-min-height);\n        }\n\n        outline-player-navigation {\n          --outline-player-dark: var(--outline-player-dark);\n        }\n\n        div[main-title] {\n          margin-left: 8px;\n          font-size: 16px;\n          line-height: 22px;\n          overflow-wrap: break-word;\n          text-overflow: ellipsis;\n          display: inline-block;\n          word-break: break-word;\n        }\n        app-drawer-layout[narrow] #contentcontainer {\n          padding-top: 64px;\n        }\n        #content {\n          padding: 8px 8px 8px 64px;\n        }\n        #menutoggle {\n          display: block;\n          float: left;\n          margin-right: 16px;\n        }\n\n        /* Required for HAX */\n        :host([edit-mode]) #slot {\n          display: none !important;\n        }\n        :host([edit-mode]) #content {\n          padding: 32px 8px 8px 8px;\n        }\n        :host([is-logged-in]) app-drawer,\n        :host([is-logged-in]) app-drawer-layout[narrow] {\n          left: 48px;\n        }\n        #contentcontainer {\n          max-width: 840px;\n          display: block;\n          margin: 0;\n          padding: 0 16px 16px 16px;\n          flex: none;\n          transition: 0.5s opacity ease-in-out;\n        }\n        #contentcontainer h-a-x {\n          margin: 0;\n        }\n        #menubuttoncontainer {\n          display: flex;\n          justify-content: center;\n          padding: 8px 0 0 0;\n        }\n        site-menu-button {\n          display: inline-flex;\n        }\n        site-print-button {\n          display: inline-flex;\n          margin-right: 20px;\n        }\n        site-active-title {\n          --site-active-title-margin: 0px;\n          --site-active-title-padding: 0px;\n        }\n      `\n    ];\n  }\n  /**\n   * Store the tag name to make it easier to obtain directly.\n   * @notice function name must be here for tooling to operate correctly\n   */\n  static get tag() {\n    return \"outline-player\";\n  }\n  /**\n   * HTMLElement\n   */\n  constructor() {\n    super();\n    this.__disposer = [];\n    this.closed = false;\n    import(\"@polymer/app-layout/app-drawer/app-drawer.js\");\n    import(\"@polymer/app-layout/app-drawer-layout/app-drawer-layout.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/navigation/site-menu.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/navigation/site-menu-button.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/site/site-print-button.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/site/site-title.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/active-item/site-active-title.js\");\n    import(\"@lrnwebcomponents/haxcms-elements/lib/ui-components/active-item/site-git-corner.js\");\n  }\n  // render function\n  render() {\n    return html`\n      <custom-style>\n        <style>\n          app-drawer {\n            box-shadow: 0 0 6px -3px var(--outline-player-dark);\n            overflow: hidden;\n            --app-drawer-scrim-background: rgba(80, 80, 80, 0.8);\n            --app-drawer-content-container: {\n              overflow: hidden;\n            }\n          }\n          site-menu {\n            height: calc(100vh - 64px);\n            color: #000000;\n            padding: 0;\n            background-color: #ffffff;\n            --site-menu-active-color: rgba(0, 0, 0, 0.1);\n            --site-menu-scrolltrack-bg-color: rgba(0, 0, 0, 0.3);\n            --site-menu-bg-shadow: rgba(0, 0, 0, 0.3);\n            --site-menu-bg-color: #fafafa;\n            --site-menu: {\n              padding: 0;\n              background-color: #ffffff;\n              color: #000000;\n            }\n            --site-menu-container: {\n              padding: 0;\n              background-color: #ffffff;\n              color: #000000;\n            }\n            --site-menu-item-active-item-color: #000000;\n          }\n          site-menu-button {\n            --site-menu-button-button: {\n              border-radius: 50%;\n              background-color: rgba(0, 0, 0, 0.1);\n              height: 40px;\n              width: 40px;\n            }\n            --site-menu-button-button-hover: {\n              background-color: rgba(0, 0, 0, 0.2);\n            }\n          }\n        </style>\n      </custom-style>\n      <app-drawer-layout\n        .narrow=\"${this.narrow}\"\n        @narrow-changed=\"${this._narrowChanged}\"\n      >\n        <app-drawer\n          id=\"drawer\"\n          swipe-open=\"\"\n          slot=\"drawer\"\n          .opened=\"${this.opened}\"\n          @opened-changed=\"${this._openedChanged}\"\n        >\n          <div id=\"menubuttoncontainer\">\n            <site-print-button></site-print-button>\n            <site-menu-button\n              type=\"prev\"\n              position=\"bottom\"\n              raised\n            ></site-menu-button>\n            <site-menu-button\n              type=\"next\"\n              position=\"bottom\"\n              raised\n            ></site-menu-button>\n          </div>\n          <site-menu></site-menu>\n        </app-drawer>\n        <div id=\"content\">\n          <site-git-corner></site-git-corner>\n          <paper-icon-button\n            icon=\"menu\"\n            id=\"menutoggle\"\n            @click=\"${this._toggleMenu}\"\n          ></paper-icon-button>\n          <site-active-title></site-active-title>\n          <div><slot name=\"title\"></slot></div>\n          <div id=\"contentcontainer\">\n            <div id=\"slot\"><slot></slot></div>\n          </div>\n        </div>\n      </app-drawer-layout>\n    `;\n  }\n  _narrowChanged(e) {\n    this.narrow = e.detail.value;\n  }\n  _openedChanged(e) {\n    this.opened = e.detail.value;\n  }\n  /**\n   * LitElement / popular convention\n   */\n  static get properties() {\n    return {\n      ...super.properties,\n      opened: {\n        type: Boolean,\n        reflect: true\n      },\n      closed: {\n        type: Boolean,\n        reflect: true\n      },\n      activeId: {\n        type: String\n      },\n      narrow: {\n        type: Boolean,\n        reflect: true\n      }\n    };\n  }\n  /**\n   * LitElement properties changed\n   */\n  updated(changedProperties) {\n    if (super.updated) {\n      super.updated(changedProperties);\n    }\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName == \"activeId\") {\n        this._activeIdChanged(this[propName], oldValue);\n      }\n      if (propName == \"closed\") {\n        this.dispatchEvent(\n          new CustomEvent(\"closed-changed\", {\n            detail: {\n              value: this[propName]\n            }\n          })\n        );\n      }\n    });\n  }\n  /**\n   * Link menu button to open and closing the side panel.\n   */\n  _toggleMenu(e) {\n    this.shadowRoot.querySelector(\"#drawer\").toggle();\n    // allow styling to trigger based on open status\n    this.closed = !this.shadowRoot.querySelector(\"#drawer\").opened;\n    // kind of silly it doesn't just work this way but\n    // app-panel doesn't make any assumptions about how\n    // to handle the layout when it closes\n    // trick browser into thinking we just reized\n    window.dispatchEvent(new Event(\"resize\"));\n  }\n  /**\n   * active id has changed.\n   */\n  _activeIdChanged(newValue, oldValue) {\n    // close menu if it's narrow and something new is picked\n    if (this.opened && this.narrow) {\n      this.shadowRoot.querySelector(\"#drawer\").toggle();\n    }\n    window.scrollTo({\n      top: 0,\n      left: 0,\n      behavior: \"smooth\"\n    });\n  }\n  firstUpdated(changedProperties) {\n    if (super.firstUpdated) {\n      super.firstUpdated(changedProperties);\n    }\n    autorun(reaction => {\n      this.activeId = toJS(store.activeId);\n      this.__disposer.push(reaction);\n    });\n  }\n  /**\n   * HTMLElement\n   */\n  disconnectedCallback() {\n    for (var i in this.__disposer) {\n      this.__disposer[i].dispose();\n    }\n    super.disconnectedCallback();\n  }\n}\nwindow.customElements.define(OutlinePlayer.tag, OutlinePlayer);\nexport { OutlinePlayer };\n"],"names":["OutlinePlayer","__disposer","closed","SimpleColorsSuper","HAXCMSLitElementTheme","css","html","this","narrow","_narrowChanged","opened","_openedChanged","_toggleMenu","e","detail","value","changedProperties","forEach","oldValue","propName","_this2","_activeIdChanged","dispatchEvent","CustomEvent","shadowRoot","querySelector","toggle","window","Event","newValue","scrollTo","top","left","behavior","autorun","reaction","_this3","activeId","toJS","store","push","i","dispose","type","Boolean","reflect","String","customElements","define","tag"],"mappings":"qgSAgBMA,yKA0KGC,WAAa,KACbC,QAAS,SACP,uDACA,qEACA,sFACA,6FACA,wFACA,iFACA,+FACA,oUAnLiBC,oBAAkBC,2GAOxCC,+CA4JK,gEAoBAC,WA8CQC,KAAKC,OACGD,KAAKE,eAMXF,KAAKG,OACGH,KAAKI,eAsBZJ,KAAKK,oDAWVC,QACRL,OAASK,EAAEC,OAAOC,6CAEVF,QACRH,OAASG,EAAEC,OAAOC,sCA4BjBC,2FAEUA,GAEhBA,EAAkBC,QAAQ,SAACC,EAAUC,GACnB,YAAZA,GACFC,EAAKC,iBAAiBD,EAAKD,GAAWD,GAExB,UAAZC,GACFC,EAAKE,cACH,IAAIC,YAAY,iBAAkB,CAChCT,OAAQ,CACNC,MAAOK,EAAKD,6CAUZN,QACLW,WAAWC,cAAc,WAAWC,cAEpCxB,QAAUK,KAAKiB,WAAWC,cAAc,WAAWf,OAKxDiB,OAAOL,cAAc,IAAIM,MAAM,oDAKhBC,EAAUX,GAErBX,KAAKG,QAAUH,KAAKC,aACjBgB,WAAWC,cAAc,WAAWC,SAE3CC,OAAOG,SAAS,CACdC,IAAK,EACLC,KAAM,EACNC,SAAU,gDAGDjB,qGAEUA,GAErBkB,UAAQ,SAAAC,GACNC,EAAKC,SAAWC,OAAKC,QAAMF,UAC3BD,EAAKnC,WAAWuC,KAAKL,wDAOlB,IAAIM,KAAKlC,KAAKN,gBACZA,WAAWwC,GAAGC,yeAhFnBhC,OAAQ,CACNiC,KAAMC,QACNC,SAAS,GAEX3C,OAAQ,CACNyC,KAAMC,QACNC,SAAS,GAEXR,SAAU,CACRM,KAAMG,QAERtC,OAAQ,CACNmC,KAAMC,QACNC,SAAS,cAwEjBlB,OAAOoB,eAAeC,OAAOhD,EAAciD,IAAKjD"}