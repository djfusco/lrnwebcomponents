{"version":3,"file":"parallax-image.umd.js","sources":["parallax-image.umd.js"],"sourcesContent":["import { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\n/**\n * `parallax-image`\n * @demo demo/index.html\n * @element parallax-image\n */\nclass ParallaxImage extends SchemaBehaviors(LitElement) {\n  /**\n   * LitElement constructable styles enhancement\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          --parallax-image-background: \"\";\n          --parallax-title-background: rgba(0, 0, 0, 0.3);\n          --parallax-title-font: #fff;\n        }\n\n        .parallax_container {\n          height: 400px;\n          width: 100%;\n          overflow: hidden;\n          display: flex;\n          justify-content: center;\n        }\n\n        .parallax {\n          background-image: var(--parallax-image-background);\n          background-attachment: fixed;\n          background-position: top center;\n          background-repeat: no-repeat;\n          background-size: cover;\n          width: 100%;\n          height: 100%;\n          justify-content: center;\n        }\n\n        #bgParallax {\n          display: flex;\n          align-items: center;\n        }\n\n        .title {\n          background: var(--parallax-title-background);\n          display: block;\n          padding: 20px 15px;\n          text-align: center;\n          width: 40%;\n          color: var(--parallax-title-font);\n          font-size: 32px;\n          position: absolute;\n          margin-top: 120px;\n        }\n\n        @media screen and (max-width: 900px) {\n          .title {\n            font-size: 16px;\n          }\n        }\n      `\n    ];\n  }\n  render() {\n    return html`\n      <div class=\"parallax_container\">\n        <div id=\"bgParallax\" class=\"parallax\">\n          <div class=\"title\" id=\"titleParallax\">\n            <slot name=\"parallax_heading\"></slot>\n          </div>\n        </div>\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"parallax-image\";\n  }\n\n  static get properties() {\n    return {\n      ...super.properties,\n      /**\n       * Image\n       */\n      imageBg: {\n        type: String,\n        attribute: \"image-bg\",\n        reflect: true\n      }\n    };\n  }\n  constructor() {\n    super();\n    this.imageBg = \"\";\n  }\n  updated(changedProperties) {\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName == \"imageBg\") {\n        this.style.setProperty(\n          \"--parallax-image-background\",\n          `url(${this.imageBg})`\n        );\n      }\n    });\n  }\n\n  scrollBy(e) {\n    const bgParallax = this.shadowRoot.querySelector(\"#bgParallax\");\n    const titleParallax = this.shadowRoot.querySelector(\"#titleParallax\");\n    const yParallaxPosition = window.scrollY * -0.2;\n    const yParallaxPositionTitle = yParallaxPosition * 1.4;\n    bgParallax.style.backgroundPosition = `center ${yParallaxPosition}px`;\n    titleParallax.style.transform = `translate3D(0, ${yParallaxPositionTitle}px, 0)`;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    setTimeout(() => {\n      window.addEventListener(\"scroll\", this.scrollBy.bind(this));\n    }, 0);\n  }\n  disconnectedCallback() {\n    window.removeEventListener(\"scroll\", this.scrollBy.bind(this));\n    super.disconnectedCallback();\n  }\n  static get haxProperties() {\n    return {\n      canScale: true,\n      canPosition: true,\n      canEditSource: false,\n      gizmo: {\n        title: \"Parallax image\",\n        description: \"Image scroll by\",\n        icon: \"av:play-circle-filled\",\n        color: \"grey\",\n        groups: [\"Image\", \"Media\"],\n        handles: [\n          {\n            type: \"image\",\n            url: \"source\"\n          }\n        ],\n        meta: {\n          author: \"ELMS:LN\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"imageBg\",\n            title: \"Image\",\n            description: \"image\",\n            inputMethod: \"haxupload\",\n            icon: \"image\"\n          }\n        ],\n        configure: [\n          {\n            property: \"imageBg\",\n            title: \"Image\",\n            description: \"image to be involved in the background\",\n            inputMethod: \"haxupload\"\n          },\n          {\n            slot: \"parallax_heading\",\n            title: \"Heading area\",\n            description: \"Heading text area\",\n            inputMethod: \"textarea\"\n          }\n        ],\n        advanced: []\n      }\n    };\n  }\n}\nwindow.customElements.define(ParallaxImage.tag, ParallaxImage);\nexport { ParallaxImage };\n"],"names":["ParallaxImage","imageBg","SchemaBehaviors","LitElement","html","css","type","String","attribute","reflect","changedProperties","forEach","oldValue","propName","_this2","style","setProperty","e","bgParallax","this","shadowRoot","querySelector","titleParallax","yParallaxPosition","window","scrollY","yParallaxPositionTitle","backgroundPosition","transform","setTimeout","addEventListener","_this3","scrollBy","bind","removeEventListener","canScale","canPosition","canEditSource","gizmo","title","description","icon","color","groups","handles","url","meta","author","settings","quick","property","inputMethod","configure","slot","advanced","customElements","define","tag"],"mappings":"i5GAOMA,yKAyFGC,QAAU,iPAzFSC,kBAAgBC,0DA2DjCC,mDAtDA,CACLC,8CAiEK,qbASLJ,QAAS,CACPK,KAAMC,OACNC,UAAW,WACXC,SAAS,4CAQPC,cACNA,EAAkBC,QAAQ,SAACC,EAAUC,GACnB,WAAZA,GACFC,EAAKC,MAAMC,YACT,4CACOF,EAAKb,iDAMXgB,OACDC,EAAaC,KAAKC,WAAWC,cAAc,eAC3CC,EAAgBH,KAAKC,WAAWC,cAAc,kBAC9CE,GAAsC,GAAlBC,OAAOC,QAC3BC,EAA6C,IAApBH,EAC/BL,EAAWH,MAAMY,oCAA+BJ,QAChDD,EAAcP,MAAMa,mCAA8BF,yHAIlDG,WAAW,WACTL,OAAOM,iBAAiB,SAAUC,EAAKC,SAASC,KAAKF,KACpD,kDAGHP,OAAOU,oBAAoB,SAAUf,KAAKa,SAASC,KAAKd,8GAIjD,CACLgB,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLC,MAAO,iBACPC,YAAa,kBACbC,KAAM,wBACNC,MAAO,OACPC,OAAQ,CAAC,QAAS,SAClBC,QAAS,CACP,CACEtC,KAAM,QACNuC,IAAK,WAGTC,KAAM,CACJC,OAAQ,YAGZC,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,UACVX,MAAO,QACPC,YAAa,QACbW,YAAa,YACbV,KAAM,UAGVW,UAAW,CACT,CACEF,SAAU,UACVX,MAAO,QACPC,YAAa,yCACbW,YAAa,aAEf,CACEE,KAAM,mBACNd,MAAO,eACPC,YAAa,oBACbW,YAAa,aAGjBG,SAAU,cAKlB9B,OAAO+B,eAAeC,OAAOxD,EAAcyD,IAAKzD"}