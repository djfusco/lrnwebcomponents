{"version":3,"file":"retro-card.umd.js","sources":["retro-card.umd.js"],"sourcesContent":["/**\n * Copyright 2019 The Pennsylvania State University\n * @license Apache-2.0, see License.md for full text.\n */\nimport { html, css } from \"lit-element/lit-element.js\";\nimport { SimpleColors } from \"@lrnwebcomponents/simple-colors/simple-colors.js\";\n/**\n * `retro-card`\n * `Simple card in a cool retro design`\n *\n * @microcopy - language worth noting:\n *  -\n *\n * @demo demo/index.html\n * @element retro-card\n */\nclass RetroCard extends SimpleColors {\n  \n  //styles function\n  static get styles() {\n    return  [\n      ...super.styles,\n      css`\n:host {\n  display: block;\n  --retro-card-level-2 : var(--simple-colors-default-theme-accent-7, #b8a515);\n  --retro-card-level-1 : var(--simple-colors-default-theme-accent-6, #e5cd1b);\n  --retro-card-level-3 : var(--simple-colors-default-theme-accent-5, #ead749);\n  --retro-card-shadow: var(--simple-colors-default-theme-accent-8, rgba(229,205,27,0.2));\n  --retro-card-light-color: #F4F1D0;\n  --retro-card-dark-color: #212121;\n}\n:host([dark]) {\n  --retro-card-dark-color: #F4F1D0;\n  --retro-card-light-color: #212121;\n}\n:host([hidden]) {\n  display: none;\n}\n\n:host([hover-state])\n.link:nth-child(1n+0) {\n  box-shadow: 16px 16px 0px 0px var(--retro-card-shadow);\n  border: 16px solid var(--retro-card-level-2);\n  background-color: var(--retro-card-level-1);\n}\n\n:host([hover-state]) .link {\n  color: var(--retro-card-light-color);\n  text-decoration: underline;\n  padding: 1.25rem;\n  border: 16px var(--retro-card-level-1) solid;\n  box-shadow: 16px 16px 0px 0px var(--retro-card-shadow);\n  transition: background-color 0.2s ease-in-out 0s,padding 0.4s ease-in-out 0s,border 0.4s ease-in-out 0s,box-shadow 0.2s ease-in-out 0s;\n}\n.link:nth-child(1n+0) {\n  background-color: var(--retro-card-level-3);\n  box-shadow: 8px 8px 0px 0px var(--retro-card-level-1);\n  border: 4px var(--retro-card-level-1) solid;\n}\n.link {\n  display: block;\n  background-color: var(--retro-card-level-3);\n  border: 4px var(--retro-card-level-1) solid;\n  padding: 2rem;\n  box-shadow: 8px 8px 0px 0px var(--retro-card-level-1);\n  transition: padding 0.4s ease-in-out 0s,border 0.4s ease-in-out 0s,box-shadow 0.2s ease-in-out 0s;\n}\n\n.img {\n  -webkit-filter: grayscale(1);\n  filter: grayscale(1);\n  mix-blend-mode: screen;\n  border: 0;\n  max-width: 100%;\n  height: auto;\n  -ms-interpolation-mode: bicubic;\n  display: inline-block;\n  vertical-align: middle;\n  max-height: 200px;\n}\n\n.title {\n  display: block;\n  font-size: 1.5rem;\n  padding: 2rem 0 0 0;\n  text-transform: uppercase;\n  font-weight: 700;\n  text-align: center;\n}\n\n.description {\n  display: block;\n  font-size: 0.9rem;\n  padding: 0.75rem 1rem 0;\n}\n.card-tags {\n  line-height: 1.6;\n  text-align: center;\n  margin-bottom: 1rem;\n  text-rendering: optimizeLegibility;\n  font-weight: 300;\n}\n.project-tag {\n  font-size: 0.7rem;\n  padding: 0.25rem 0.5rem;\n  font-style: italic;\n  font-weight: 600;\n  color: var(--retro-card-light-color);\n  background: var(--retro-card-dark-color);\n  word-wrap: break-word;\n  padding: 0 0.5rem;\n  text-transform: uppercase;\n  margin-bottom: 2rem;\n  margin: 0 0.25rem 2rem 0;\n}\n\nhr {\n  border-bottom: 1px solid var(--retro-card-dark-color);\n  max-width: 75rem;\n  height: 0;\n  border-right: 0;\n  border-top: 0;\n  border-left: 0;\n  margin: 1.25rem auto;\n  clear: both;\n}\n\na {\n  text-align: center;\n  color: var(--retro-card-dark-color);\n  text-decoration: none;\n  line-height: inherit;\n  cursor: pointer;\n  font-family: \"Roboto Mono\", Consolas, Monospace;\n}\n      `\n    ];\n  }\n  // render function\n  render() {\n    return html`\n\n<a tabindex=\"-1\" class=\"link ${this.color}\" href=\"${this.url}\" @click=\"${this._clickCard}\">\n    <img class=\"img\" loading=\"lazy\" src=\"${this.__source}\" alt=\"\">\n    <span class=\"title\">${this.title}</span>\n    <span class=\"name\">${this.subtitle}</span>\n    <span class=\"description\"><slot></slot></span>\n    <hr/>\n    <div class=\"card-tags\">\n        ${this.__cardTags.map(tag => html`<span class=\"project-tag\">${tag.trim()}</span>`)}\n    </div>\n</a>`;\n  }\n\n  // haxProperty definition\n  static get haxProperties() {\n    return {\n  \"canScale\": false,\n  \"canPosition\": false,\n  \"canEditSource\": false,\n  \"gizmo\": {\n    \"title\": \"Retro card\",\n    \"description\": \"Simple card in a cool retro design\",\n    \"icon\": \"icons:android\",\n    \"color\": \"purple\",\n    \"groups\": [\"Card\"],\n    \"handles\": [\n      {\n        \"type\": \"image\",\n        \"source2\": \"mediaSource\",\n        \"source\": \"hoverSource\",\n        \"alt\": \"subtitle\",\n        \"title\": \"title\",\n        \"name\": \"title\"\n      }\n    ],\n    \"meta\": {\n      \"author\": \"ELMS:LN\",\n      \"owner\": \"The Pennsylvania State University\"\n    }\n  },\n  \"settings\": {\n    \"quick\": [],\n    \"configure\": [\n      {\n        \"property\": \"title\",\n        \"title\": \"Title\",\n        \"description\": \"Main title of card\",\n        \"inputMethod\": \"textfield\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"url\",\n        \"description\": \"Link to go to when clicking the card\",\n        \"inputMethod\": \"textfield\",\n        \"required\": false,\n        \"icon\": \"icons:android\",\n        \"validationType\": \"url\"\n      },\n      {\n        \"property\": \"subtitle\",\n        \"title\": \"Sub-title\",\n        \"description\": \"Sub heading\",\n        \"inputMethod\": \"textfield\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"tags\",\n        \"title\": \"Tags\",\n        \"description\": \"Comma separated tags\",\n        \"inputMethod\": \"textfield\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"mediaSource\",\n        \"title\": \"Media source\",\n        \"description\": \"Primary media source\",\n        \"inputMethod\": \"haxupload\",\n        \"required\": true,\n        \"icon\": \"icons:link\",\n        \"validationType\": \"url\"\n      },\n      {\n        \"property\": \"hoverSource\",\n        \"description\": \"When user hovers / activates the card\",\n        \"title\": \"Source on hover\",\n        \"inputMethod\": \"haxupload\",\n        \"required\": false,\n        \"validationType\": \"url\",\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"accentColor\",\n        \"description\": \"An accent to apply evenly to the card\",\n        \"title\": \"Accent Color\",\n        \"inputMethod\": \"colorpicker\",\n        \"required\": false,\n        \"icon\": \"icons:android\"\n      },\n      {\n        \"property\": \"dark\",\n        \"title\": \"Dark\",\n        \"description\": \"Sets base color to be dark mode\",\n        \"inputMethod\": \"boolean\",\n        \"required\": false\n      }\n    ],\n    \"advanced\": []\n  }\n}\n;\n  }\n  // properties available to the custom element for data binding\n    static get properties() {\n    return {\n  \n  ...super.properties,\n  \n  \"title\": {\n    \"type\": String\n  },\n  \"subtitle\": {\n    \"type\": String\n  },\n  \"tags\": {\n    \"type\": String\n  },\n  \"mediaSource\": {\n    \"type\": String,\n    \"attribute\": \"media-source\"\n  },\n  \"url\": {\n    \"type\": String\n  },\n  \"hoverSource\": {\n    \"type\": String,\n    \"attribute\": \"hover-source\"\n  },\n  \"hoverState\": {\n    \"type\": Boolean,\n    \"attribute\": \"hover-state\",\n    \"reflect\": true\n  },\n  \"__cardTags\": {\n    \"type\": Array\n  },\n  \"__source\": {\n    \"type\": String\n  }\n}\n;\n  }\n\n  /**\n   * Convention we use\n   */\n  static get tag() {\n    return \"retro-card\";\n  }\n\n  /**\n   * HTMLElement\n   */\n  constructor() {\n    super();\n    this.__cardTags = [];\n    this.hoverState = false;\n    setTimeout(() => {\n      this.addEventListener(\"keypress\", this._keyPress.bind(this));\n      this.addEventListener(\"mouseover\", this._hoverStateOn.bind(this));\n      this.addEventListener(\"mouseout\", this._hoverStateOff.bind(this));\n      this.addEventListener(\"focusin\", this._hoverStateOn.bind(this));\n      this.addEventListener(\"focusout\", this._hoverStateOff.bind(this));\n    }, 0);\n  }\n  /**\n   * A11y because we are delegating keyboard function to hit the link when enter pressed\n   */\n  _keyPress(e) {\n    switch (e.key) {\n      case \"Enter\":\n        // simulate click to go to whatever link / action it has\n        this.shadowRoot.querySelector(\"a\").click();\n        break;\n    }\n  }\n  _hoverStateOff(e) {\n    this.hoverState = false;\n  }\n  _hoverStateOn(e) {\n    this.hoverState = true;\n  }\n  firstUpdated() {\n    // makes this focusable and we normalize the hover / focus state\n    // between CSS, JS and keyboard actions this way\n    this.setAttribute(\"tabindex\", 0);\n    // optional support for hoverSource being the default source\n    if (!this.hoverSource) {\n      this.hoverSource = this.mediaSource;\n    }\n  }\n  /**\n   * special support for HAX since the whole card is selectable\n   */\n  _clickCard(e) {\n    if (\n      window.HaxStore &&\n      window.HaxStore.ready &&\n      window.HaxStore.instance &&\n      window.HaxStore.instance.editMode\n    ) {\n      // do not do default\n      e.preventDefault();\n      e.stopPropagation();\n      e.stopImmediatePropagation();\n    }\n  }\n  /**\n   * LitElement life cycle - property changed\n   */\n  updated(changedProperties) {\n    if (super.updated) {\n      super.updated(changedProperties);\n    }\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName == \"tags\") {\n        this._tagsChanged(this[propName]);\n      }\n      if (propName == \"source\") {\n        this.__source = this.mediaSource;\n      }\n      if (propName == \"hoverState\") {\n        this.__source = this[propName] ? this.hoverSource : this.mediaSource;\n      }\n    });\n  }\n  /**\n   * Convert string based tags into array\n   */\n  _tagsChanged(tags) {\n    let ary = tags.split(\",\");\n    this.__cardTags = [...ary];\n  }\n}\ncustomElements.define(RetroCard.tag, RetroCard);\nexport { RetroCard };\n"],"names":["RetroCard","__cardTags","hoverState","setTimeout","addEventListener","_this","_keyPress","bind","_hoverStateOn","_hoverStateOff","SimpleColors","html","this","color","url","_clickCard","__source","title","subtitle","map","tag","trim","css","String","Boolean","Array","e","key","shadowRoot","querySelector","click","setAttribute","hoverSource","mediaSource","window","HaxStore","ready","instance","editMode","preventDefault","stopPropagation","stopImmediatePropagation","changedProperties","forEach","oldValue","propName","_this2","_tagsChanged","tags","ary","split","customElements","define"],"mappings":"0/KAgBMA,kOAqSGC,WAAa,KACbC,YAAa,EAClBC,WAAW,aACJC,iBAAiB,WAAYC,EAAKC,UAAUC,cAC5CH,iBAAiB,YAAaC,EAAKG,cAAcD,cACjDH,iBAAiB,WAAYC,EAAKI,eAAeF,cACjDH,iBAAiB,UAAWC,EAAKG,cAAcD,cAC/CH,iBAAiB,WAAYC,EAAKI,eAAeF,aACrD,iPA7SiBG,2DA6HbC,WAEoBC,KAAKC,MAAgBD,KAAKE,IAAgBF,KAAKG,WACnCH,KAAKI,SACtBJ,KAAKK,MACNL,KAAKM,SAIpBN,KAAKX,WAAWkB,IAAI,SAAAC,UAAOT,WAAiCS,EAAIC,sFAhIpEC,yDAuIK,WACG,eACG,iBACE,QACR,OACE,yBACM,0CACP,sBACC,gBACC,CAAC,gBACA,CACT,MACU,gBACG,qBACD,kBACH,iBACE,aACD,eAGJ,QACI,gBACD,+CAGD,OACD,aACI,CACX,UACc,cACH,oBACM,iCACA,sBACH,OACJ,iBAEV,UACc,kBACG,mDACA,sBACH,OACJ,+BACU,OAEpB,UACc,iBACH,wBACM,0BACA,sBACH,OACJ,iBAEV,UACc,aACH,mBACM,mCACA,sBACH,OACJ,iBAEV,UACc,oBACH,2BACM,mCACA,sBACH,OACJ,4BACU,OAEpB,UACc,0BACG,8CACN,8BACM,sBACH,iBACM,WACV,iBAEV,UACc,0BACG,8CACN,2BACM,wBACH,OACJ,iBAEV,UACc,aACH,mBACM,8CACA,oBACH,aAGJ,+aAWL,MACCC,iBAEE,MACFA,aAEF,MACEA,oBAEK,MACLA,iBACK,oBAER,MACGA,oBAEK,MACLA,iBACK,2BAED,MACJC,kBACK,uBACF,cAEC,MACJC,gBAEE,MACFF,4CAUD,sDAqBCG,UACAA,EAAEC,SACH,aAEEC,WAAWC,cAAc,KAAKC,gDAI1BJ,QACRxB,YAAa,wCAENwB,QACPxB,YAAa,8CAKb6B,aAAa,WAAY,GAEzBnB,KAAKoB,mBACHA,YAAcpB,KAAKqB,gDAMjBP,GAEPQ,OAAOC,UACPD,OAAOC,SAASC,OAChBF,OAAOC,SAASE,UAChBH,OAAOC,SAASE,SAASC,WAGzBZ,EAAEa,iBACFb,EAAEc,kBACFd,EAAEe,4DAMEC,2FAEUA,GAEhBA,EAAkBC,QAAQ,SAACC,EAAUC,GACnB,QAAZA,GACFC,EAAKC,aAAaD,EAAKD,IAET,UAAZA,IACFC,EAAK9B,SAAW8B,EAAKb,aAEP,cAAZY,IACFC,EAAK9B,SAAW8B,EAAKD,GAAYC,EAAKd,YAAcc,EAAKb,oDAOlDe,OACPC,EAAMD,EAAKE,MAAM,UAChBjD,aAAiBgD,YAG1BE,eAAeC,OAAOpD,EAAUoB,IAAKpB"}