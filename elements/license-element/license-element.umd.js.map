{"version":3,"file":"license-element.umd.js","sources":["license-element.umd.js"],"sourcesContent":["/**\n * A list of licenses that we support the references for.\n */\nexport class licenseList {\n  constructor(mode = \"full\") {\n    // initial list, PR to add more\n    let list = {\n      by: {\n        name: \"Attribution\",\n        link: \"https://creativecommons.org/licenses/by/4.0/\",\n        image: \"https://i.creativecommons.org/l/by/4.0/88x31.png\"\n      },\n      \"by-sa\": {\n        name: \"Attribution Share a like\",\n        link: \"https://creativecommons.org/licenses/by-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-sa/4.0/88x31.png\"\n      },\n      \"by-nd\": {\n        name: \"Attribution No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nd/4.0/88x31.png\"\n      },\n      \"by-nc\": {\n        name: \"Attribution non-commercial\",\n        link: \"https://creativecommons.org/licenses/by-nc/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc/4.0/88x31.png\"\n      },\n      \"by-nc-sa\": {\n        name: \"Attribution non-commercial share a like\",\n        link: \"https://creativecommons.org/licenses/by-nc-sa/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png\"\n      },\n      \"by-nc-nd\": {\n        name: \"Attribution Non-commercial No derivatives\",\n        link: \"https://creativecommons.org/licenses/by-nc-nd/4.0/\",\n        image: \"https://i.creativecommons.org/l/by-nc-nd/4.0/88x31.png\"\n      }\n    };\n    // support mutating the array into a select list\n    if (mode == \"select\") {\n      var select = {};\n      for (var i in list) {\n        select[i] = list[i].name;\n      }\n      return select;\n    }\n    return list;\n  }\n}\n\nimport { LitElement, html, css } from \"lit-element/lit-element.js\";\nimport { SchemaBehaviors } from \"@lrnwebcomponents/schema-behaviors/schema-behaviors.js\";\n/**\n * `license-element`\n * `A simple way of applying a semantically accurate license to work.`\n * @demo demo/index.html\n * @element license-element\n */\nclass LicenseElement extends SchemaBehaviors(LitElement) {\n  /**\n   * LitElement constructable styles enhancement\n   */\n  static get styles() {\n    return [\n      css`\n        :host {\n          display: block;\n          font-size: 16px;\n          line-height: 32px;\n          --license-text-color: #222222;\n          --license-background-color: #f2f2f2;\n          background-color: var(--license-background-color);\n        }\n        :host:after {\n          content: \"License\";\n          position: relative;\n          float: right;\n          bottom: 36px;\n          right: 8px;\n          font-size: 28px;\n          color: #dddddd;\n          font-style: italic;\n        }\n        .license-body {\n          padding: 32px;\n          font-style: italic;\n          background-color: var(--license-background-color);\n          color: var(--license-text-color);\n        }\n\n        :host([display-method=\"footnote\"]) {\n          visibility: hidden;\n          opacity: 0;\n        }\n        :host([display-method=\"popup\"]) {\n          display: block;\n        }\n        .license-link {\n          font-style: italic;\n        }\n        .big-license-link img {\n          margin-right: 8px;\n          margin-bottom: 8px;\n          width: 88px;\n          height: 31px;\n          vertical-align: middle;\n        }\n        .work-title {\n          font-weight: bold;\n        }\n      `\n    ];\n  }\n  render() {\n    return html`\n      <meta\n        rel=\"cc:license\"\n        href=\"${this.licenseLink}\"\n        content=\"License: ${this.licenseName}\"\n      />\n      <div\n        class=\"license-body\"\n        xmlns:cc=\"${this.licenseLink}\"\n        xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\n      >\n        ${this.licenseImage\n          ? html`\n              <a\n                class=\"big-license-link\"\n                target=\"_blank\"\n                href=\"${this.licenseLink}\"\n                rel=\"noopener noreferrer\"\n                ><img\n                  loading=\"lazy\"\n                  alt=\"${this.licenseName} graphic\"\n                  src=\"${this.licenseImage}\"\n              /></a>\n            `\n          : ``}\n        <span\n          class=\"work-title\"\n          rel=\"dc:type\"\n          href=\"http://purl.org/dc/dcmitype/Text\"\n          property=\"dc:title\"\n          >${this.title}</span\n        >\n        by\n        <a\n          rel=\"cc:attributionURL\"\n          property=\"cc:attributionName\"\n          href=\"${this.source}\"\n          >${this.creator}</a\n        >\n        is licensed under a\n        <a class=\"license-link\" target=\"_blank\" href=\"${this.licenseLink}\"\n          >${this.licenseName}</a\n        >. <span rel=\"dc:source\" href=\"${this.source}\"></span>\n        ${this.hasMore\n          ? html`\n              <span\n                >Permissions beyond the scope of this license are available\n                <a\n                  rel=\"cc:morePermissions\"\n                  target=\"_blank\"\n                  href=\"${this.moreLink}\"\n                  rel=\"noopener noreferrer\"\n                  >${this.moreLabel}</a\n                >.</span\n              >\n            `\n          : ``}\n      </div>\n    `;\n  }\n\n  static get tag() {\n    return \"license-element\";\n  }\n  static get properties() {\n    return {\n      ...super.properties,\n      /**\n       * Title of the work.\n       */\n      title: {\n        type: String\n      },\n      /**\n       * Person or group that owns / created the work.\n       */\n      creator: {\n        type: String\n      },\n      /**\n       * Original Source of the work in question\n       */\n      source: {\n        type: String\n      },\n      /**\n       * License name, calculated or supplied by the end user if we don't have them.\n       */\n      licenseName: {\n        type: String,\n        attribute: \"license-name\"\n      },\n      /**\n       * License link for more details\n       */\n      licenseLink: {\n        type: String,\n        attribute: \"license-link\"\n      },\n      /**\n       * License short hand. Options cc0,\n       */\n      license: {\n        type: String\n      },\n      /**\n       * More details label\n       */\n      moreLabel: {\n        type: String,\n        attribute: \"more-label\"\n      },\n      /**\n       * More details link\n       */\n      moreLink: {\n        type: String,\n        attribute: \"more-link\"\n      },\n      /**\n       * See if we have more things to point to\n       */\n      hasMore: {\n        type: Boolean,\n        attribute: \"has-more\"\n      }\n    };\n  }\n  constructor() {\n    super();\n    this.licenseList = new licenseList();\n    this.moreLabel = \"on the licensing details page\";\n  }\n  updated(changedProperties) {\n    changedProperties.forEach((oldValue, propName) => {\n      if (propName == \"license\") {\n        this._licenseUpdated(this[propName]);\n      }\n      if (propName == \"moreLink\") {\n        this.hasMode = this._computeHasMore(this.moreLink);\n      }\n    });\n  }\n  static get haxProperties() {\n    return {\n      canScale: false,\n      canPosition: false,\n      canEditSource: false,\n      gizmo: {\n        title: \"License\",\n        description: \"Provide a license for you rwork\",\n        icon: \"icons:theaters\",\n        color: \"grey\",\n        groups: [\"Content\", \"Copyright\"],\n        handles: [\n          {\n            type: \"license\",\n            source: \"source\",\n            title: \"title\",\n            author: \"creator\",\n            license: \"license\"\n          }\n        ],\n        meta: {\n          author: \"ELMS:LN\"\n        }\n      },\n      settings: {\n        quick: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          }\n        ],\n        configure: [\n          {\n            property: \"title\",\n            title: \"Title\",\n            description: \"The title of the work being cited.\",\n            inputMethod: \"textfield\",\n            icon: \"editor:title\"\n          },\n          {\n            property: \"source\",\n            title: \"Source link\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"textfield\",\n            icon: \"link\",\n            validationType: \"url\"\n          },\n          {\n            property: \"license\",\n            title: \"License\",\n            description: \"The source url for the element this is citing.\",\n            inputMethod: \"select\",\n            options: new licenseList(\"select\"),\n            icon: \"link\"\n          },\n          {\n            property: \"creator\",\n            title: \"Creator\",\n            description: \"Who made or owns this.\",\n            inputMethod: \"textfield\",\n            icon: \"link\"\n          }\n        ],\n        advanced: [\n          {\n            property: \"moreLink\",\n            title: \"Source link\",\n            description: \"Link to additional licensing details\",\n            inputMethod: \"textfield\",\n            validationType: \"url\"\n          },\n          {\n            property: \"moreLabel\",\n            title: \"more label\",\n            description: \"Label for more licensing details\",\n            inputMethod: \"textfield\"\n          }\n        ]\n      }\n    };\n  }\n  /**\n   * Calculate if we should show the advanced details area\n   */\n  _computeHasMore(link) {\n    // only show if there's a link supplied for additional details\n    if (typeof link !== typeof undefined && link !== \"\") {\n      return true;\n    }\n    return false;\n  }\n  /**\n   * License was updated, time to update license name and link.\n   */\n  _licenseUpdated(newValue) {\n    if (\n      typeof newValue !== typeof undefined &&\n      typeof this.licenseList[newValue] !== typeof undefined\n    ) {\n      this.licenseName = this.licenseList[newValue].name;\n      this.licenseLink = this.licenseList[newValue].link;\n      this.licenseImage = this.licenseList[newValue].image;\n    }\n  }\n}\nwindow.customElements.define(LicenseElement.tag, LicenseElement);\nexport { LicenseElement };\n"],"names":["licenseList","mode","list","by","name","link","image","select","i","LicenseElement","moreLabel","SchemaBehaviors","LitElement","html","this","licenseLink","licenseName","licenseImage","title","source","creator","hasMore","moreLink","css","type","String","attribute","license","Boolean","changedProperties","forEach","oldValue","propName","_this2","_licenseUpdated","hasMode","_computeHasMore","_typeof","newValue","canScale","canPosition","canEditSource","gizmo","description","icon","color","groups","handles","author","meta","settings","quick","property","inputMethod","configure","validationType","options","advanced","window","customElements","define","tag"],"mappings":"s9JAGaA,EACX,iBAAYC,yDAAO,qBAEbC,EAAO,CACTC,GAAI,CACFC,KAAM,cACNC,KAAM,+CACNC,MAAO,4DAEA,CACPF,KAAM,2BACNC,KAAM,kDACNC,MAAO,+DAEA,CACPF,KAAM,6BACNC,KAAM,kDACNC,MAAO,+DAEA,CACPF,KAAM,6BACNC,KAAM,kDACNC,MAAO,kEAEG,CACVF,KAAM,0CACNC,KAAM,qDACNC,MAAO,qEAEG,CACVF,KAAM,4CACNC,KAAM,qDACNC,MAAO,8DAIC,UAARL,EAAkB,KAChBM,EAAS,OACR,IAAIC,KAAKN,EACZK,EAAOC,GAAKN,EAAKM,GAAGJ,YAEfG,SAEFL,GAYLO,8EA0LGT,YAAc,IAAIA,IAClBU,UAAY,8QA3LQC,kBAAgBC,0DAwDlCC,WAGKC,KAAKC,YACOD,KAAKE,YAIbF,KAAKC,YAGfD,KAAKG,aACHJ,WAIYC,KAAKC,YAIJD,KAAKE,YACLF,KAAKG,iBASjBH,KAAKI,MAMAJ,KAAKK,OACVL,KAAKM,QAGsCN,KAAKC,YAChDD,KAAKE,YACuBF,KAAKK,OACpCL,KAAKO,QACHR,WAMcC,KAAKQ,SAEVR,KAAKJ,sDAvGf,CACLa,8CAgHK,sbAQLL,MAAO,CACLM,KAAMC,QAKRL,QAAS,CACPI,KAAMC,QAKRN,OAAQ,CACNK,KAAMC,QAKRT,YAAa,CACXQ,KAAMC,OACNC,UAAW,gBAKbX,YAAa,CACXS,KAAMC,OACNC,UAAW,gBAKbC,QAAS,CACPH,KAAMC,QAKRf,UAAW,CACTc,KAAMC,OACNC,UAAW,cAKbJ,SAAU,CACRE,KAAMC,OACNC,UAAW,aAKbL,QAAS,CACPG,KAAMI,QACNF,UAAW,qDASTG,cACNA,EAAkBC,QAAQ,SAACC,EAAUC,GACnB,WAAZA,GACFC,EAAKC,gBAAgBD,EAAKD,IAEZ,YAAZA,IACFC,EAAKE,QAAUF,EAAKG,gBAAgBH,EAAKX,qDA2F/BjB,uBAEVgC,EAAOhC,IAAsC,KAATA,0CAQ1BiC,iBAEZD,EAAOC,kBACPD,EAAOvB,KAAKd,YAAYsC,WAEnBtB,YAAcF,KAAKd,YAAYsC,GAAUlC,UACzCW,YAAcD,KAAKd,YAAYsC,GAAUjC,UACzCY,aAAeH,KAAKd,YAAYsC,GAAUhC,qDAvG1C,CACLiC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,MAAO,CACLxB,MAAO,UACPyB,YAAa,kCACbC,KAAM,iBACNC,MAAO,OACPC,OAAQ,CAAC,UAAW,aACpBC,QAAS,CACP,CACEvB,KAAM,UACNL,OAAQ,SACRD,MAAO,QACP8B,OAAQ,UACRrB,QAAS,YAGbsB,KAAM,CACJD,OAAQ,YAGZE,SAAU,CACRC,MAAO,CACL,CACEC,SAAU,QACVlC,MAAO,QACPyB,YAAa,qCACbU,YAAa,YACbT,KAAM,iBAGVU,UAAW,CACT,CACEF,SAAU,QACVlC,MAAO,QACPyB,YAAa,qCACbU,YAAa,YACbT,KAAM,gBAER,CACEQ,SAAU,SACVlC,MAAO,cACPyB,YAAa,iDACbU,YAAa,YACbT,KAAM,OACNW,eAAgB,OAElB,CACEH,SAAU,UACVlC,MAAO,UACPyB,YAAa,iDACbU,YAAa,SACbG,QAAS,IAAIxD,EAAY,UACzB4C,KAAM,QAER,CACEQ,SAAU,UACVlC,MAAO,UACPyB,YAAa,yBACbU,YAAa,YACbT,KAAM,SAGVa,SAAU,CACR,CACEL,SAAU,WACVlC,MAAO,cACPyB,YAAa,uCACbU,YAAa,YACbE,eAAgB,OAElB,CACEH,SAAU,YACVlC,MAAO,aACPyB,YAAa,mCACbU,YAAa,yBA8BzBK,OAAOC,eAAeC,OAAOnD,EAAeoD,IAAKpD"}